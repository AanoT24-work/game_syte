{% extends 'main/main.html' %}

{% block title %}–ú–æ–π –∞–∫–∫–∞—É–Ω—Ç{% endblock %}

{% block style %}
    <link rel="stylesheet" href="{{url_for('static', filename='css/blocks/body/accaunt.css')}}">
{% endblock %}

{% block content %}
<div class="main-container">
    <div class="accaunt-container">
        <div class="info-container">
            <button class="user-avatar" id="openAvatarModal">
                {% if current_user.avatar %}
                    <img src="{{ url_for('static', filename='upload/avatars/' + current_user.avatar) }}" alt="–ê–≤–∞—Ç–∞—Ä">
                {% else %}
                    <span>üë§</span>
                {% endif %}
            </button>
        </div>
    </div>
</div>

<!-- –û–≤–µ—Ä–ª–µ–π -->
<div class="overlay" id="overlay"></div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
<div class="photo-container" id="photoContainer">
    <div class="photo-content">
        <!-- –ò–°–ü–û–õ–¨–ó–£–ô FORM –ò–ó FLASK-WTF –° CSRF –¢–û–ö–ï–ù–û–ú -->
        <form class="photo-form" id="avatarForm" method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}  <!-- ‚Üê –í–ê–ñ–ù–û: CSRF —Ç–æ–∫–µ–Ω -->
            
            <button type="button" class="close-button" id="closeButton">&times;</button>
            <p class="heading">–ê–≤–∞—Ç–∞—Ä</p>
            
            <div class="file-input-wrapper">
                <!-- –ò–°–ü–û–õ–¨–ó–£–ô –ü–û–õ–ï –ò–ó FLASK-WTF –§–û–†–ú–´ -->
                {{ form.avatar(class="photo-input", id="fileInput", accept="image/*") }}
                
                <label for="fileInput" class="file-input-label" id="fileInputLabel">
                    <img class="avatar-preview" id="avatarPreview" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">
                    <span class="file-input-text">–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</span>
                </label>
            </div>

            <div class="photo-button">
                {{ form.push(class="save_button", type="submit") }}  <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã -->
                <button type="button" class="cancel_button" id="cancelButton">–û—Ç–º–µ–Ω–∞</button>
            </div>
            {{ form.deleate(class="deleate_button", id="deleteButton", type="button") }}  <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è -->
        </form>
    </div>
</div>

<script src="{{ url_for('static', filename='js/body/accaunt.js') }}"></script>
{% endblock %}