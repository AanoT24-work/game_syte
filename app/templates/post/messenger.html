
{% extends 'main/main.html' %}

{% block title %}–û–±—â–µ–Ω–∏–µ{% endblock %}

{% block style %}
   <link rel="stylesheet" href="{{url_for('static', filename='css/blocks/body/messenger-base.css')}}">
   <link rel="stylesheet" href="{{url_for('static', filename='css/blocks/body/messenger-chat.css')}}">
{% endblock %}

{% block content %}
<div class="main-container">
    <header class="mess-header">–û–±—â–µ–Ω–∏–µ</header>
    
    <div class="chat-main">
        <nav class="nav-chats">
            <!-- –ü–æ–∏—Å–∫ -->
            <div class="search-box">
                <div class="search-wrapper">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π..." id="userSearch">
                    <svg viewBox="0 0 24 24" class="search-icon">
                        <g>
                            <path d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"></path>
                        </g>
                    </svg>
                </div>
        
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ -->
            <div class="chats-list" id="chatsList">
                <div class="no-chats">
                    <div>üí¨</div>
                    <div>–ß–∞—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</div>
                    <div>–ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ</div>
                </div>
            </div>
        </nav>

        <!-- –û–∫–Ω–æ —á–∞—Ç–∞ -->
        <div class="mess-container" id="messContainer">
            <div class="chat-placeholder">
                <div class="chat-placeholder-icon">üí¨</div>
                <div class="chat-placeholder-title">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è</div>
                <div class="chat-placeholder-subtitle">
                    –ù–∞—á–Ω–∏—Ç–µ –æ–±—â–µ–Ω–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –≤—ã–±—Ä–∞–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–∞—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ 
                    –∏–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –Ω–æ–≤–æ–≥–æ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫
                </div>
                <div class="chat-placeholder-features">
                    <div class="chat-feature">
                        <div class="chat-feature-icon">üîç</div>
                        <div class="chat-feature-text">–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∏–º–µ–Ω–∏</div>
                    </div>
                    <div class="chat-feature">
                        <div class="chat-feature-icon">üí≠</div>
                        <div class="chat-feature-text">–û–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</div>
                    </div>
                    <div class="chat-feature">
                        <div class="chat-feature-icon">üõ°Ô∏è</div>
                        <div class="chat-feature-text">–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –§–æ–Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <div class="background-elements">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
        <div class="particles"></div>
    </div>
</div>

<!-- –®–∞–±–ª–æ–Ω—ã –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ -->
<template id="chatWindowTemplate">
    <div class="chat-window">
        <div class="chat-header">
            <div class="chat-header-avatar" id="chatHeaderAvatar">
            </div>
            <div class="chat-header-info">
                <div class="chat-header-name" id="chatHeaderName"></div>
                <div class="chat-header-status">online</div>
            </div>
            <div class="chat-header-actions">
                <button class="header-clear-btn" id="clearChatBtn" title="–û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç">
                    üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç
                </button>
            </div>
        </div>
        
        <div class="chat-messages" id="chatMessages"></div>
        
        <div class="chat-input-container">
            <input type="text" 
                   class="chat-input" 
                   id="chatInput" 
                   placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
                   autocomplete="off"
                   autocorrect="off"
                   autocapitalize="off"
                   spellcheck="false">
            <button class="send-button" id="sendMessageBtn">‚û§</button>
        </div>
    </div>
</template>

<template id="messageTemplate">
    <div class="message">
        <div class="message-content">
            <div class="message-text"></div>
            <div class="message-actions">
                <!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                <button class="message-edit-btn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">‚úèÔ∏è</button>
                <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è -->
                <button class="message-delete-btn" title="–£–¥–∞–ª–∏—Ç—å">√ó</button>
            </div>
        </div>
        <div class="message-time">
            <span class="message-time-text"></span>
            <span class="message-edited" style="display: none;"> (—Ä–µ–¥.)</span>
        </div>
    </div>
</template>

<template id="searchResultTemplate">
    <div class="search-result-item">
        <div class="result-avatar">
            <!-- –ê–≤–∞—Ç–∞—Ä–∫–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
        </div>
        <div class="result-info">
            <div class="result-username"></div>
            <div class="result-chat-status"></div>
        </div>
    </div>
</template>

<template id="chatItemTemplate">
    <div class="chat-item">
        <div class="chat-avatar">
            <!-- –ê–≤–∞—Ç–∞—Ä–∫–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
        </div>
        <div class="chat-info">
            <div class="chat-name"></div>
            <div class="chat-last-message"></div>
        </div>
        <div class="chat-meta">
            <div class="chat-time"></div>
            <div class="chat-unread"></div>
            <div class="chat-actions">
                <button class="chat-clear-btn" title="–û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç">üóëÔ∏è</button>
            </div>
        </div>
    </div>
</template>

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JavaScript -->
<script src="{{ url_for('static', filename='js/body/messenger.js') }}"></script>
{% endblock %}
